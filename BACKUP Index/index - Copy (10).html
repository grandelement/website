<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Grand Element</title>
<link rel="preload" as="image" href="images/GE stars.jpg">
<style>
  :root{
    --star-tile:900px;

    /* Sun & moon */
    --sun-size:300px;
    --moon-size:96px;
    --orbit-seconds:60;
    --orbit-radius:185px; /* ~25% closer than last time */

    /* Planets */
    --planet-size:36px;
    --planet-hover-scale:3;
    --planet-glow:18px;
  }

  @media (max-width:780px){
    :root{
      --sun-size:180px;
      --moon-size:76px;
      --orbit-radius:140px;
      --planet-size:28px;
      --planet-hover-scale:2.3;
    }
  }

  html,body{height:100%}
  body{
    margin:0; overflow:hidden; color:#eaf2ff; background:#000;
    /* JS will replace first layer with any file in data/backgrounds.json */
    background-image:
      url("images/GE stars.jpg"),
      radial-gradient(closest-side,#fff 1px,rgba(255,255,255,0) 1px);
    background-repeat:repeat,repeat;
    background-position:center center,0 0;
    /* important: keep star image aspect (scale by height), no vertical squish */
    background-size:auto 900px,3px 3px;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  }

  /* FX canvas (ships, comets, beams) */
  #fx{position:fixed; inset:0; z-index:1}

  /* Hidden text (behind everything) */
  .layer-hiddentext{position:fixed; inset:0; pointer-events:none; z-index:0}
  .phrase{position:absolute; color:#cfe9ff; font-weight:700; text-shadow:0 2px 8px rgba(0,0,0,.9); opacity:0; transition:opacity .45s}
  .phrase.show{opacity:1}
  .phrase.pinned{color:#fff; text-decoration:underline}

  /* Sun + orbiting moon */
  .sunWrap{position:absolute; left:16vw; top:66vh; transform:translate(-50%,-50%); width:var(--sun-size); height:var(--sun-size); z-index:5}
  .sun{position:absolute; inset:0; border-radius:50%; background:center/cover no-repeat url("images/ge-logo-2.jpg"); box-shadow:inset 0 0 60px rgba(255,255,255,.12)}
  .sunOverlay{position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:flex-start; gap:8px; text-align:center; padding-top:10%}
  .sunAbout{font-weight:900; letter-spacing:.22em; font-size:13px; opacity:.9; text-shadow:0 0 14px rgba(150,190,255,.45); cursor:pointer}
  .sunTitle{position:absolute; top:44%; left:50%; transform:translate(-50%,-50%); font-weight:800; letter-spacing:.08em; opacity:.85}

  /* CONTROLS ↓ live UNDER the sun (never cover it) */
  .dock{position:absolute; left:50%; top:100%; transform:translate(-50%,10px); z-index:6; width:max-content}
  .miniOpen{
    display:inline-block; padding:6px 10px; border-radius:999px;
    background:rgba(10,20,35,.55); border:1px solid rgba(220,240,255,.35);
    font-weight:800; user-select:none; cursor:pointer; box-shadow:0 8px 18px rgba(0,0,0,.45)
  }
  .miniPanel{
    margin-top:8px; display:none; grid-template-columns:auto 1fr auto; gap:10px; align-items:center;
    width:min(86vw,520px); background:rgba(5,10,22,.70);
    border:1px solid rgba(220,240,255,.35); border-radius:14px; padding:10px; box-shadow:0 18px 28px rgba(0,0,0,.5)
  }
  .miniPanel.show{display:grid}
  .controls{display:flex; gap:8px}
  .btn{width:32px; height:32px; border-radius:10px; border:1px solid rgba(220,240,255,.35); background:rgba(12,24,40,.6); color:#eaf2ff; font-weight:900; display:grid; place-items:center; cursor:pointer}
  .btn:active{transform:translateY(1px)}
  .toggles{display:flex; gap:8px}
  .toggle{padding:6px 10px; border-radius:999px; border:1px solid rgba(220,240,255,.35); background:rgba(12,24,40,.6); cursor:pointer}
  .toggle.active{background:rgba(40,140,255,.45)}
  .title{white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-weight:700; letter-spacing:.3px}

  .orbit{position:absolute; inset:0; transform-origin:50% 50%; z-index:2; pointer-events:none}
  .carrier{position:absolute; left:50%; top:50%}
  .moon{
    position:absolute; left:0; top:0; transform:translate(var(--orbit-radius), -50%);
    width:var(--moon-size); height:var(--moon-size); border-radius:50%;
    cursor:pointer; pointer-events:auto;
    background:center/cover no-repeat url("images/ge-radio-logo.png"), radial-gradient(circle, rgba(160,210,255,.55) 0%, rgba(160,210,255,.25) 60%, rgba(160,210,255,0) 70%);
    box-shadow:0 0 10px 4px rgba(140,200,255,.35); border:1px solid rgba(160,210,255,.55)
  }

  /* Planets */
  .planets{position:fixed; inset:0; pointer-events:none; z-index:4}
  .planet{position:absolute; width:var(--planet-size); height:var(--planet-size); border-radius:50%; background-size:cover; background-position:center; box-shadow:0 0 10px rgba(255,255,255,.2); transition:transform .2s, box-shadow .18s; cursor:pointer; pointer-events:auto}
  .planet:hover{transform:scale(var(--planet-hover-scale)); box-shadow:0 0 var(--planet-glow) rgba(255,160,255,.65),0 0 2px 1px rgba(255,255,255,.25) inset}
  .planet .label{position:absolute; left:50%; top:-12px; transform:translate(-50%,-100%); padding:6px 10px; border-radius:999px; background:rgba(15,25,50,.35); border:1px solid rgba(200,220,255,.5); backdrop-filter:blur(2px); font-size:12px; letter-spacing:.3px; font-weight:700; opacity:0; pointer-events:none; transition:opacity .12s}
  .planet:hover .label{opacity:1}

  /* Teleport text */
  .teleport{position:fixed; left:50%; top:8%; transform:translateX(-50%); font-weight:900; letter-spacing:.25em; text-shadow:0 0 16px rgba(110,200,255,.8); display:none; z-index:12}
  .teleport.show{display:block}
</style>
</head>
<body>

  <canvas id="fx"></canvas>
  <div class="layer-hiddentext" id="phrases"></div>

  <div class="sunWrap" id="sunWrap">
    <div class="sun" id="sun">
      <div class="sunOverlay">
        <div class="sunAbout" id="aboutBtn">ABOUT</div>
        <div class="sunTitle">GRAND ELEMENT</div>
      </div>

      <!-- DOCK lives below the sun -->
      <div class="dock">
        <div class="miniOpen" id="openMini">Music Controls</div>
        <div class="miniPanel" id="mini">
          <div class="controls">
            <div class="btn" id="prev" title="Prev">◀</div>
            <div class="btn" id="play" title="Play/Pause">▶</div>
            <div class="btn" id="next" title="Next">▶▶</div>
          </div>
          <div class="title" id="title">—</div>
          <div class="toggles">
            <div class="toggle active" id="tgShuffle">Shuffle</div>
            <div class="toggle" id="tgAlbum">Album</div>
          </div>
          <audio id="gePlayer" preload="auto" playsinline></audio>
        </div>
      </div>
    </div>

    <!-- Moon orbit -->
    <div class="orbit" id="orbit">
      <div class="carrier" style="--orbit-radius: var(--orbit-radius);">
        <div class="moon" id="moon" title="Grand Element Radio"></div>
      </div>
    </div>
  </div>

  <div class="planets" id="planets"></div>

  <!-- About overlay -->
  <div class="overlay" id="about">
    <div class="aboutText">
      Started the summer of 2005 in Las Vegas, Nevada. Experiments in sound and communication. A journey into the soul. Created with one vision: the listener is the "GRAND ELEMENT". Hypnotic rhythms and spacious soundscapes leave room for reflection—reminding us that we are all one, all energy, and all love.
      <br><br>
      <a href="mailto:info@grandelement.com" style="color:#dff3ff; font-weight:800; text-decoration:none;">✉ Contact</a>
    </div>
  </div>

  <div class="teleport" id="teleportCap">TELEPORTATION</div>

  <script src="app.js"></script>
</body>
</html>
